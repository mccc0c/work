!function(t){t.fn.extend({tab:function(e){var n={event:"mouseenter",auto:!1,duration:3600,nav:".nav",content:".content",before:function(){},after:function(){}},i=t.extend({},n,e);return this.each(function(){function e(t){return s.find(".nav li").eq(t).addClass("current").siblings().removeClass("current"),s.find(".content>ul>li").eq(t).show().siblings().hide(),!1}var n,o,s=t(this),a=s.find(">"+i.nav+" li").length,c=0;i.auto?(s.on("mouseenter",function(){clearInterval(n)}),s.on("mouseleave",function(){n=setInterval(function(){c>=a-1&&(c=-1),e(++c)},i.duration)}).trigger("mouseleave"),s.find(">"+i.nav+" li").on(i.event,function(){c=t(this).index(),o=setTimeout(function(){e(c)},120)}),s.find(">"+i.nav+" li").on("mouseleave",function(){clearInterval(o)})):(s.find(">"+i.content+">ul").each(function(){t(this).children("li:not(:first)").hide()}),s.find(">"+i.nav+" li").on(i.event,function(){i.before(),t(this).addClass("current").siblings().removeClass("current");var e=t(this).index();return s.find(">"+i.content+">ul>li").eq(e).show().siblings().hide(),i.after(),!1}))})},tmpl:function(e,n){return function(){var t={};this.tmpl=function e(n,i){var o=/\W/.test(n)?new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+n.replace(/[\r\t\n]/g," ").split("<%").join("\t").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("\t").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');"):t[n]=t[n]||e(document.getElementById(n).innerHTML);return i?o(i):o}}(),this.each(function(){t(this).append(tmpl(e,n))})},modal:function(e){var n={bgscroll:!1,width:null,height:null,dragable:!0,ani:!0,bgclose:!1,mobileDetect:!0,myalert:!1,alertCenter:!0,hideDuration:0,top:"50%",left:"50%",overflow:!1,beforeOpen:function(){},onOpen:function(){},onClose:function(){},onOk:function(){}},i=t.extend({},n,e),o=this;return this.each(function(){function e(t,e){d.css({left:i.left,top:i.top,"margin-left":-t/2+"px","margin-top":-e/2+"px"}),"50%"!==i.left?d.css({"margin-left":"0px"}):"50%"!==i.top&&d.css({"margin-top":"0px"})}function n(){f=d.height(),e(h=d.width(),f),i.bgscroll?t("body").css({overflow:"auto"}):t("body").css({overflow:"hidden"}),t("body").css({"padding-right":v+"px"}),d.fadeIn(),p.fadeIn(0),0!==i.hideDuration&&(d.find(".dtitle,.dbtn").hide(),d.addClass("dalert"),setTimeout(function(){s(),i.onClose()},i.hideDuration))}function s(){d.fadeOut("fast"),p.fadeOut("fast"),0==i.overflow&&setTimeout(function(){t("body").css({overflow:"auto","padding-right":"0px"})},200)}var a,c,r=t(this),l=o.selector,d=i.dialog?t(i.dialog):r,u=i.dialog?d.selector:o.selector,f=d.height(),h=d.width(),m=!1,v=window.innerWidth-t("body").width();i.mobileDetect&&t(this).isMobile()&&d.addClass("dmobile"),d.next(".modalbg")[0]||(d.after('<div class="modalbg"></div>'),t(".modalbg").height(t(document).height()));var p=d.next(".modalbg");i.dragable||d.find(".dtitle").css("cursor","auto"),i.ani&&d.addClass("dani"),i.myalert&&d.addClass("dalert"),!1===i.alertCenter&&d.find(".dcontent").css("text-align","left"),d.hide(),e(h,f),i.auto&&((d=r).fadeIn(),p.fadeIn()),(i.width||i.height)&&(d.css({width:i.width,height:i.height}),parseInt(i.height)>d.find(".dtitle").height()+d.find(".dcontent").height()+d.find(".dbtn").height()&&d.find(".dbtn").css("position","absolute")),t(document).on("click",l,function(e){e.stopPropagation(),i.beforeOpen(t(this)),n(),i.onOpen(t(this))}),p.on("click",function(){i.bgclose&&(s(),i.onClose())}),t(document).on("click",u+" .dclose",function(){return s(),i.onClose(),!1}),t(document).on("click",u+" .dcancle",function(){return s(),i.onClose(),!1}),t(document).on("click",u+" .dokay",function(){return s(),i.onOk(),!1}),t(document).on("mousedown",u+".dtitle",function(t){return i.dragable&&(m=!0),a=t.clientX-parseInt(d.css("left")),c=t.clientY-parseInt(d.css("top")),!1}),t(document).mousemove(function(t){if(m){var e=(t=t||window.event).clientX-a,n=t.clientY-c,i=d.width()/2,o=d.height()/2,s=document.documentElement.clientWidth-i,r=document.documentElement.clientHeight-o;return e<i?e=i:e>s&&(e=s),n<o?n=o:n>r&&(n=r),d.css({left:e+"px",top:n+"px"}),!1}}),t(document).mouseup(function(t){m=!1}),o.open=function(){i.beforeOpen(),n(),i.onOpen()},o.close=function(){s(),i.onClose()}})},isMobile:function(){if(/Android|Windows Phone|webOS|iPhone|iPod|BlackBerry|iPad|Opera/i.test(navigator.userAgent))return!0},myalert:function(e){var n='<div id="myalert" style="width:70%; background:#000; opacity:0.8; color:#fff; font-size:13px; min-height:20px; line-height:20px; padding:5px; text-align:center;position:absolute; top:40%; left:15%; z-index:100001; border-radius:5px; display:none">'+e+"</div>";t("body").append(n),t("#myalert").fadeIn(),setTimeout(function(){t("#myalert").fadeOut().remove()},3500)},slider:function(e){var n={num:1,auto:!1,loop:!0},i=t.extend({},n,e);return this.each(function(){function e(t){s.animate({marginLeft:"+="+a*i.num*t},200)}var n=t(this),o=1,s=t(n).find(".list ul"),a=t(n).find(".list li").outerWidth(!0);if(1==i.loop){var c=s.html();s.append(c)}var r=t(n).find(".list li").length,l=Math.round(t(n).find(".list").outerWidth(!0)/a),d=Math.ceil((r-l)/i.num);r<=l&&(t(n).find(".prev, .next").hide(),t(n).find(".list").addClass("lessimg")),0==i.loop&&t(n).find(".prev").addClass("disabled"),t(n).find(".next").click(function(){if(s.is(":animated")&&s.stop(!0,!0),!i.loop)return o>d?void 0:(t(n).find(".prev").removeClass("disabled"),t(this).removeClass("disabled"),e(-1),++o>d&&t(this).addClass("disabled"),!1);if(o>=d){var c=r/2-l;s.css("margin-left",-a*c*i.num),e(-1),o=c+2}else e(-1),o++}),t(n).find(".prev").click(function(){if(s.is(":animated")&&s.stop(!0,!0),!i.loop)return 1==o?void 0:(t(n).find(".prev").removeClass("disabled"),t(this).removeClass("disabled"),e(1),1==--o&&t(this).addClass("disabled"),!1);1==o?(s.css("margin-left",-a*r/2*i.num),e(1),o=r/2):(e(1),o--)}),setInterval(function(){i.auto&&t(n).find(".next").trigger("click")},4e3)})},fixmenu:function(e){var n={};t.extend({},n,e);return this.each(function(){var e=t(this),n=e[0]&&e.offset().top;t(window).scroll(function(){t(this).scrollTop()>n?e.addClass("on").css({position:"fixed",top:"0px"}):e.removeClass("on").css({position:"absolute",top:n+"px"})})})},accordion:function(e){var n={event:"mouseenter",showfirst:!0,collapse:!0,animate:!0,duration:300,nav:"dt",content:"dd",active:"on"},i=t.extend({},n,e);return this.each(function(){var e=t(this).find(i.nav),n=i.active;i.showfirst&&e.eq(0).addClass(n).next(i.content).show(),e.on(i.event,function(){var e=t(this),o=e.next(i.content),s=t(this).siblings(),a=t(this).siblings().next(i.content);i.animate?(e.is("."+n)?(e.removeClass(n),o.slideUp()):(e.addClass(n),o.slideDown()),i.collapse&&(s.removeClass(n),a.slideUp())):(e.is("."+n)?(e.removeClass(n),o.hide()):(e.addClass(n),o.show()),i.collapse&&(s.removeClass(n),a.hide()))})})},dropdown:function(e){var n={event:"mouseenter"},i=t.extend({},n,e);return this.each(function(){var e=t(this);e.find("ul li:has(ul)").on(i.event,function(){t(this).children("ul").stop(!0,!0).slideDown(400)}),e.find("ul li:has(ul)").on("mouseleave",function(){t(this).children("ul").stop(!0,!0).slideUp("fast")})})},slide123:function(e){var n={duration:3600},i=t.extend({},n,e);return this.each(function(){function e(t){o.find(".num li").removeClass("on").eq(t).addClass("on"),o.find(".content ul").stop().animate({left:-a*t},500)}var n,o=t(this),s=o.find(".num li").length,a=o.find(".content li").width(),c=0;o.hover(function(){clearInterval(n)},function(){n=setInterval(function(){c>=s-1&&(c=-1),e(++c)},i.duration)}).trigger("mouseleave"),o.find(".num li").mouseover(function(){c=t(".slide123 .num li").index(this),setTimeout(function(){e(c)},200)})})},scrollone:function(e){var n={duration:3600},i=t.extend({},n,e);return this.each(function(){var e=t(this),n=e.find("li").height();e.each(function(){var e=t(this);setInterval(function(){var t=e.find("li:last-child");e.find("li:last-child").remove(),e.find("ul").prepend(t.css({height:0})),t.animate({height:n+"px"})},i.duration)})})},sidemenu:function(e){var n={event:"mouseenter"},i=t.extend({},n,e);return this.each(function(){var e=t(this),n=e.find(".content").width();e.on(i.event,function(){t(this).animate({right:0},"fast")}),e.on("mouseleave",function(){t(this).animate({right:-n+"px"},"fast")})})},wordsleft:function(e){var n={},i=t.extend({},n,e);return this.each(function(){var e=t(this);t(document).keyup(function(){e.text(110-t(i.textarea).val().length)})})},scrollline:function(e){var n={};t.extend({},n,e);return this.each(function(){function e(){n.find("ul:first").animate({marginTop:"-25px"},500,function(){t(this).css({marginTop:"0px"}).find("li:first").appendTo(this)})}var n=t(this),i=setInterval(function(){e()},1e3);n.hover(function(){clearInterval(i)},function(){i=setInterval(function(){e()},1e3)})})},inout:function(e){var n={};t.extend({},n,e);return this.each(function(){function e(t){return o.find(".num li").eq(t).addClass("on").siblings().removeClass("on"),o.find(".content li").eq(t).fadeIn("200").siblings().fadeOut("200"),!1}var n,i,o=t(this),s=o.find(".num li").length,a=0;o.find(".content li").first().show(),o.hover(function(){clearInterval(n)},function(){n=setInterval(function(){a>=s-1&&(a=-1),e(++a)},3600)}).trigger("mouseleave"),o.find(".num li").hover(function(){a=o.find(".num li").index(this),i=setTimeout(function(){e(a)},120)},function(){clearTimeout(i)})})},delayshow:function(e){var n={};t.extend({},n,e);return this.each(function(){var e=t(this);e.find(".nav li").hover(function(){var t=e.find(".nav li").index(this);timer=setTimeout(function(){e.find(".nav li").removeClass("current").eq(t).addClass("current"),e.find(".content li").hide().eq(t).show()},200)},function(){clearTimeout(timer)})})},tip:function(e){var n={},i=t.extend({},n,e);return this.each(function(){t(this).click(function(e){e.stopPropagation();var n=t(e.target).offset();t(i.target).css({top:n.top+t(e.target).height()+"px",left:n.left}),t(i.target).toggle("slow")}),t(document).click(function(){t(i.target).slideUp("slow")}),t(i.target).click(function(e){t(this).fadeOut(1e3)})})},zoom:function(e){var n={xzoom:400,yzoom:400,offset:10,position:"right",lens:1,preload:1};e&&t.extend(n,e);var i="";t(this).hover(function(){var e=t(this).offset().left,o=t(this).offset().top,s=t(this).children("img").get(0).offsetWidth,a=t(this).children("img").get(0).offsetHeight;i=t(this).children("img").attr("alt");var c=t(this).children("img").attr("src");t(this).children("img").attr("alt",""),0==t("div.zoomdiv").get().length&&(t(this).after("<div class='zoomdiv'><img class='bigimg' src='../images/"+c+"'/></div>"),t(this).append("<div class='jqZoomPup'>?</div>")),"right"==n.position?e+s+n.offset+n.xzoom>screen.width?leftpos=e-n.offset-n.xzoom:leftpos=e+s+n.offset:(leftpos=e-n.xzoom-n.offset,leftpos<0&&(leftpos=e+s+n.offset)),t("div.zoomdiv").css({top:o,left:leftpos}),t("div.zoomdiv").width(n.xzoom),t("div.zoomdiv").height(n.yzoom),t("div.zoomdiv").show(),n.lens||t(this).css("cursor","crosshair"),t(document.body).mousemove(function(i){mouse=new MouseEvent(i);var c=t(".bigimg").get(0).offsetWidth,r=t(".bigimg").get(0).offsetHeight,l="x",d="y";if(isNaN(d)|isNaN(l)){var d=c/s,l=r/a;t("div.jqZoomPup").width(n.xzoom/(1*d)),t("div.jqZoomPup").height(n.yzoom/(1*l)),n.lens&&t("div.jqZoomPup").css("visibility","visible")}xpos=mouse.x-t("div.jqZoomPup").width()/2-e,ypos=mouse.y-t("div.jqZoomPup").height()/2-o,n.lens&&(xpos=mouse.x-t("div.jqZoomPup").width()/2<e?0:mouse.x+t("div.jqZoomPup").width()/2>s+e?s-t("div.jqZoomPup").width()-2:xpos,ypos=mouse.y-t("div.jqZoomPup").height()/2<o?0:mouse.y+t("div.jqZoomPup").height()/2>a+o?a-t("div.jqZoomPup").height()-2:ypos),n.lens&&t("div.jqZoomPup").css({top:ypos,left:xpos}),scrolly=ypos,t("div.zoomdiv").get(0).scrollTop=scrolly*l,scrollx=xpos,t("div.zoomdiv").get(0).scrollLeft=scrollx*d})},function(){t(this).children("img").attr("alt",i),t(document.body).unbind("mousemove"),n.lens&&t("div.jqZoomPup").remove(),t("div.zoomdiv").remove()}),count=0,n.preload&&(t("body").append("<div style='display:none;' class='jqPreload"+count+"'></div>"),t(this).each(function(){var e=t(this).children("img").attr("src"),n=jQuery("div.jqPreload"+count).html();jQuery("div.jqPreload"+count).html(n+'<img src="'+e+'">')}))},check:function(e){var n={};t.extend({},n,e);return this.each(function(){t(this);t("[name=items]:checkbox").click(function(){var e=!0;t("[name=items]:checkbox").each(function(){this.checked||(e=!1)}),t("#checkall").prop("checked",e)}),t("#checkall").click(function(){t("[name=items]:checkbox").prop("checked",this.checked)}),t("#uncheckall").click(function(){t("[name=items]:checkbox").prop("checked",!1)}),t("#fan").click(function(){t("[name=items]:checkbox").each(function(){this.checked=!this.checked})}),t("#submit").click(function(){var e="??????\r\n";t("[name=items]:checkbox:checked").each(function(){e+=t(this).val()+"\r\n"}),alert(e)})})},scrollto:function(e){var n={};t.extend({},n,e);return this.each(function(){t(this);t(function(){t(window).scroll(function(){t(window).scrollTop()>700?t(".anchor").show():t(".anchor").hide()}),t(".anchor").click(function(){t("html, body").animate({scrollTop:0},240)})}),jQuery.scrollto=function(e,n){t(e).click(function(){var e=t(this).data("scroll");return t(this).addClass("thisscroll").siblings().removeClass("thisscroll"),t("html,body").animate({scrollTop:t(e).offset().top},n),!1})},t.scrollto("#scrollnav a",600)})},scrollbar:function(e){var n={};t.extend({},n,e);return this.each(function(){var e=t(this),n=e.find(".bar1")[0],i=e.find(".bar2")[0],o=e.find(".bar3")[0],s=e.find(".bar0")[0],a=0;n.onmousedown=function(e){var c=e||event;return a=c.clientY-n.offsetTop,document.onmousemove=function(e){if(t(o).height()>t(i).height()){var c=(e||event).clientY-a,r=s.offsetHeight-n.offsetHeight;c<0?c=0:c>r&&(c=r),n.style.top=c+"px";var l=c/r;o.style.top=-l*(o.offsetHeight-i.offsetHeight)+"px"}},document.onmouseup=function(){this.onmousemove=null,this.onmouseup=null},!1}})},waterfall:function(e){var n={scrollBox:null,moreHeight:0,callback:function(){}},i=t.extend({},n,e);return this.each(function(){var e=t(this),n=!0;e.scroll(function(){var o=i.scrollBox?t(i.scrollBox).height()-i.moreHeight:t(document).height()-i.moreHeight;e.scrollTop()>=o-e.height()&&(n&&(i.callback(),n=!1),setTimeout(function(){n=!0},1200))})})},scratch:function(e){var n={image:!1,percent:.85,radius:30},i=t.extend({},n,e);return this.each(function(){function e(){var t="ontouchstart"in window,e=t?"touchstart":"mousedown",a=t?"touchmove":"mousemove",f=t?"touchend":"mouseup";r.lineCap="round",r.lineJoin="round",r.lineWidth=2*l,r.globalCompositeOperation="destination-out",c.addEventListener(e,function(e){function l(e){clearTimeout(s),e.preventDefault(),x2=t?e.targetTouches[0].pageX-h.offsetLeft:e.clientX-h.offsetLeft,y2=t?e.targetTouches[0].pageY-h.offsetTop:e.clientY-h.offsetTop,r.save(),r.moveTo(n,o),r.lineTo(x2,y2),r.stroke(),r.restore(),n=x2,o=y2}clearTimeout(s),e.preventDefault(),n=t?e.targetTouches[0].pageX-h.offsetLeft:e.clientX-h.offsetLeft,o=t?e.targetTouches[0].pageY-h.offsetTop:e.clientY-h.offsetTop,r.save(),r.beginPath(),r.arc(n,o,1,0,2*Math.PI),r.fill(),r.restore(),c.addEventListener(a,l),c.addEventListener(f,function(){c.removeEventListener(a,l),s=setTimeout(function(){for(var t=r.getImageData(0,0,c.width,c.height),e=0,n=0;n<t.width;n+=u)for(var o=0;o<t.height;o+=u){var s=4*(o*t.width+n);t.data[s+3]>0&&e++}e/(t.width*t.height/(u*u))<i.percent&&(c.className="removeimg",h.style.display="block")},d)})})}var n,o,s,a=t(this),c=a[0],r=c.getContext("2d"),l=i.radius,d=100,u=30,f=a.parent(".scratch"),h=a.parent(".scratch")[0];if(c.width=h.clientWidth,c.height=h.clientHeight,i.image){var m=new Image;m.src=i.image,m.onload=function(){r.drawImage(m,0,0,c.width,c.height),f.addClass("on"),e()}}else r.fillStyle="#999",r.fillRect(0,0,c.width,c.height),f.addClass("on"),e()})},shake:function(e){var n={threshold:1500,waiting:1500,timeout:2e3,music:"images/shake.mp3",shaked:function(){}},i=t.extend({},n,e);return this.each(function(){t(this);var e,n=!0;window.DeviceMotionEvent&&window.addEventListener("devicemotion",function(f){var h=f.accelerationIncludingGravity,m=(new Date).getTime();if(m-u>100){var v=m-u;u=m,o=h.x,s=h.y,a=h.z,Math.abs(o+s+a-c-r-l)/v*1e4>d&&(i.music&&(t("body").append('<audio src="../images/'+i.music+'"></audio>'),t("audio")[0].play()),clearTimeout(e),setTimeout(function(){n&&(i.shaked(),n=!1)},i.waiting),e=setTimeout(function(){n=!0},i.timeout)),c=o,r=s,l=a}},!1);var o,s,a,c,r,l,d=i.threshold,u=0})},demo:function(e){var n={};t.extend({},n,e);return this.each(function(){t(this)})}})}(jQuery),function(){if(void 0===t||void 0===t.log)var t={log:function(){}}}();