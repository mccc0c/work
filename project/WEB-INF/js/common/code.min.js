!function(){!function(){!function a(b,c,d){function e(g,h){var i,j,k;if(!c[g]){if(!b[g]){if(i="function"==typeof require&&require,!h&&i)return i(g,!0);if(f)return f(g,!0);throw j=new Error("Cannot find module '"+g+"'"),j.code="MODULE_NOT_FOUND",j}k=c[g]={exports:{}},b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b){function c(){}var d=b.exports={};d.nextTick=function(){var c,a="undefined"!=typeof window&&window.setImmediate,b="undefined"!=typeof window&&window.postMessage&&window.addEventListener;return a?function(a){return window.setImmediate(a)}:b?(c=[],window.addEventListener("message",function(a){var d,b=a.source;(b===window||null===b)&&"process-tick"===a.data&&(a.stopPropagation(),c.length>0)&&(d=c.shift(),d())},!0),function(a){c.push(a),window.postMessage("process-tick","*")}):function(a){setTimeout(a,0)}}(),d.title="browser",d.browser=!0,d.env={},d.argv=[],d.on=c,d.addListener=c,d.once=c,d.off=c,d.removeListener=c,d.removeAllListeners=c,d.emit=c,d.binding=function(){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(){throw new Error("process.chdir is not supported")}},{}],2:[function(a,b){"use strict";function c(a){function b(a){return null===i?void k.push(a):void f(function(){var c,b=i?a.onFulfilled:a.onRejected;if(null===b)return void(i?a.resolve:a.reject)(j);try{c=b(j)}catch(d){return void a.reject(d)}a.resolve(c)})}function c(a){try{if(a===l)throw new TypeError("A promise cannot be resolved with itself.");if(a&&("object"==typeof a||"function"==typeof a)){var b=a.then;if("function"==typeof b)return void e(b.bind(a),c,g)}i=!0,j=a,h()}catch(d){g(d)}}function g(a){i=!1,j=a,h()}function h(){for(var a=0,c=k.length;c>a;a++)b(k[a]);k=null}if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof a)throw new TypeError("not a function");var i=null,j=null,k=[],l=this;this.then=function(a,c){return new l.constructor(function(e,f){b(new d(a,c,e,f))})},e(a,c,g)}function d(a,b,c,d){this.onFulfilled="function"==typeof a?a:null,this.onRejected="function"==typeof b?b:null,this.resolve=c,this.reject=d}function e(a,b,c){var d=!1;try{a(function(a){d||(d=!0,b(a))},function(a){d||(d=!0,c(a))})}catch(e){if(d)return;d=!0,c(e)}}var f=a("asap");b.exports=c},{asap:4}],3:[function(a,b){"use strict";function c(a){this.then=function(b){return"function"!=typeof b?this:new d(function(c,d){e(function(){try{c(b(a))}catch(e){d(e)}})})}}var f,g,h,i,j,k,d=a("./core.js"),e=a("asap");b.exports=d,c.prototype=d.prototype,f=new c(!0),g=new c(!1),h=new c(null),i=new c(void 0),j=new c(0),k=new c(""),d.resolve=function(a){if(a instanceof d)return a;if(null===a)return h;if(void 0===a)return i;if(a===!0)return f;if(a===!1)return g;if(0===a)return j;if(""===a)return k;if("object"==typeof a||"function"==typeof a)try{var b=a.then;if("function"==typeof b)return new d(b.bind(a))}catch(e){return new d(function(a,b){b(e)})}return new c(a)},d.all=function(a){var b=Array.prototype.slice.call(a);return new d(function(a,c){function d(f,g){try{if(g&&("object"==typeof g||"function"==typeof g)){var h=g.then;if("function"==typeof h)return void h.call(g,function(a){d(f,a)},c)}b[f]=g,0===--e&&a(b)}catch(i){c(i)}}if(0===b.length)return a([]);for(var e=b.length,f=0;f<b.length;f++)d(f,b[f])})},d.reject=function(a){return new d(function(b,c){c(a)})},d.race=function(a){return new d(function(b,c){a.forEach(function(a){d.resolve(a).then(b,c)})})},d.prototype["catch"]=function(a){return this.then(null,a)}},{"./core.js":2,asap:4}],4:[function(a,b){!function(a){function c(){for(var a,b;e.next;){e=e.next,a=e.task,e.task=void 0,b=e.domain,b&&(e.domain=void 0,b.enter());try{a()}catch(d){if(i)throw b&&b.exit(),setTimeout(c,0),b&&b.enter(),d;setTimeout(function(){throw d},0)}b&&b.exit()}g=!1}function d(b){f=f.next={task:b,domain:i&&a.domain,next:null},g||(g=!0,h())}var j,e={task:void 0,next:null},f=e,g=!1,h=void 0,i=!1;"undefined"!=typeof a&&a.nextTick?(i=!0,h=function(){a.nextTick(c)}):"function"==typeof setImmediate?h="undefined"!=typeof window?setImmediate.bind(window,c):function(){setImmediate(c)}:"undefined"!=typeof MessageChannel?(j=new MessageChannel,j.port1.onmessage=c,h=function(){j.port2.postMessage(0)}):h=function(){setTimeout(c,0)},b.exports=d}.call(this,a("_process"))},{_process:1}],5:[function(){"function"!=typeof Promise.prototype.done&&(Promise.prototype.done=function(){var a=arguments.length?this.then.apply(this,arguments):this;a.then(null,function(a){setTimeout(function(){throw a},0)})})},{}],6:[function(a){a("asap"),"undefined"==typeof Promise&&(Promise=a("./lib/core.js"),a("./lib/es6-extensions.js")),a("./polyfill-done.js")},{"./lib/core.js":2,"./lib/es6-extensions.js":3,"./polyfill-done.js":5,asap:4}]},{},[6])}(),function(a){"use strict";function i(a,b){for(var c=a;c;){if(c.contains(b)||c==b)return c;c=c.parentNode}return null}function j(a,b,c){var f,e=d.createEvent("HTMLEvents");if(e.initEvent(b,!0,!0),"object"==typeof c)for(f in c)e[f]=c[f];a.dispatchEvent(e)}function k(a,b,c,d,e,f,g,h){var i=Math.atan2(h-f,g-e)-Math.atan2(d-b,c-a),j=Math.sqrt((Math.pow(h-f,2)+Math.pow(g-e,2))/(Math.pow(d-b,2)+Math.pow(c-a,2))),k=[e-j*a*Math.cos(i)+j*b*Math.sin(i),f-j*b*Math.cos(i)-j*a*Math.sin(i)];return{rotate:i,scale:j,translate:k,matrix:[[j*Math.cos(i),-j*Math.sin(i),k[0]],[j*Math.sin(i),j*Math.cos(i),k[1]],[0,0,1]]}}function l(a){var b,c,d,h,k,l;for(0===Object.keys(g).length&&(e.addEventListener("touchmove",m,!1),e.addEventListener("touchend",n,!1),e.addEventListener("touchcancel",o,!1)),b=0;b<a.changedTouches.length;b++){c=a.changedTouches[b],d={};for(h in c)d[h]=c[h];k={startTouch:d,startTime:Date.now(),status:"tapping",element:a.srcElement||a.target,pressingHandler:setTimeout(function(b){return function(){"tapping"===k.status&&(k.status="pressing",j(b,"press",{touchEvent:a})),clearTimeout(k.pressingHandler),k.pressingHandler=null}}(a.srcElement||a.target),500)},g[c.identifier]=k}if(2==Object.keys(g).length){l=[];for(h in g)l.push(g[h].element);j(i(l[0],l[1]),"dualtouchstart",{touches:f.call(a.touches),touchEvent:a})}}function m(a){var b,c,d,e,f,h,l,m,n,o,p,t,q,r,s;for(b=0;b<a.changedTouches.length;b++){if(c=a.changedTouches[b],d=g[c.identifier],!d)return;d.lastTouch||(d.lastTouch=d.startTouch),d.lastTime||(d.lastTime=d.startTime),d.velocityX||(d.velocityX=0),d.velocityY||(d.velocityY=0),d.duration||(d.duration=0),e=Date.now()-d.lastTime,f=(c.clientX-d.lastTouch.clientX)/e,h=(c.clientY-d.lastTouch.clientY)/e,l=70,e>l&&(e=l),d.duration+e>l&&(d.duration=l-e),d.velocityX=(d.velocityX*d.duration+f*e)/(d.duration+e),d.velocityY=(d.velocityY*d.duration+h*e)/(d.duration+e),d.duration+=e,d.lastTouch={};for(m in c)d.lastTouch[m]=c[m];d.lastTime=Date.now(),n=c.clientX-d.startTouch.clientX,o=c.clientY-d.startTouch.clientY,p=Math.sqrt(Math.pow(n,2)+Math.pow(o,2)),("tapping"===d.status||"pressing"===d.status)&&p>10&&(d.status="panning",d.isVertical=!(Math.abs(n)>Math.abs(o)),j(d.element,"panstart",{touch:c,touchEvent:a,isVertical:d.isVertical}),j(d.element,(d.isVertical?"vertical":"horizontal")+"panstart",{touch:c,touchEvent:a})),"panning"===d.status&&(d.panTime=Date.now(),j(d.element,"pan",{displacementX:n,displacementY:o,touch:c,touchEvent:a,isVertical:d.isVertical}),d.isVertical?j(d.element,"verticalpan",{displacementY:o,touch:c,touchEvent:a}):j(d.element,"horizontalpan",{displacementX:n,touch:c,touchEvent:a}))}if(2==Object.keys(g).length){for(q=[],r=[],s=[],b=0;b<a.touches.length;b++)c=a.touches[b],d=g[c.identifier],q.push([d.startTouch.clientX,d.startTouch.clientY]),r.push([c.clientX,c.clientY]);for(m in g)s.push(g[m].element);t=k(q[0][0],q[0][1],q[1][0],q[1][1],r[0][0],r[0][1],r[1][0],r[1][1]),j(i(s[0],s[1]),"dualtouch",{transform:t,touches:a.touches,touchEvent:a})}}function n(a){var b,c,d,k,l,p,q,r,u,v,w,x,y;if(2==Object.keys(g).length){b=[];for(c in g)b.push(g[c].element);j(i(b[0],b[1]),"dualtouchend",{touches:f.call(a.touches),touchEvent:a})}for(d=0;d<a.changedTouches.length;d++)k=a.changedTouches[d],l=k.identifier,p=g[l],p&&(p.pressingHandler&&(clearTimeout(p.pressingHandler),p.pressingHandler=null),"tapping"===p.status&&(p.timestamp=Date.now(),j(p.element,"tap",{touch:k,touchEvent:a}),h&&p.timestamp-h.timestamp<300&&j(p.element,"doubletap",{touch:k,touchEvent:a}),h=p),"panning"===p.status&&(q=Date.now(),r=q-p.startTime,(k.clientX-p.startTouch.clientX)/r,(k.clientY-p.startTouch.clientY)/r,u=k.clientX-p.startTouch.clientX,v=k.clientY-p.startTouch.clientY,w=Math.sqrt(p.velocityY*p.velocityY+p.velocityX*p.velocityX),x=w>.5&&q-p.lastTime<100,y={duration:r,isflick:x,velocityX:p.velocityX,velocityY:p.velocityY,displacementX:u,displacementY:v,touch:k,touchEvent:a,isVertical:p.isVertical},j(p.element,"panend",y),x&&(j(p.element,"flick",y),p.isVertical?j(p.element,"verticalflick",y):j(p.element,"horizontalflick",y))),"pressing"===p.status&&j(p.element,"pressend",{touch:k,touchEvent:a}),delete g[l]);0===Object.keys(g).length&&(e.removeEventListener("touchmove",m,!1),e.removeEventListener("touchend",n,!1),e.removeEventListener("touchcancel",o,!1))}function o(a){var b,c,d,h,k,l;if(2==Object.keys(g).length){b=[];for(c in g)b.push(g[c].element);j(i(b[0],b[1]),"dualtouchend",{touches:f.call(a.touches),touchEvent:a})}for(d=0;d<a.changedTouches.length;d++)h=a.changedTouches[d],k=h.identifier,l=g[k],l&&(l.pressingHandler&&(clearTimeout(l.pressingHandler),l.pressingHandler=null),"panning"===l.status&&j(l.element,"panend",{touch:h,touchEvent:a}),"pressing"===l.status&&j(l.element,"pressend",{touch:h,touchEvent:a}),delete g[k]);0===Object.keys(g).length&&(e.removeEventListener("touchmove",m,!1),e.removeEventListener("touchend",n,!1),e.removeEventListener("touchcancel",o,!1))}var d=a.document,e=d.documentElement,f=Array.prototype.slice,g={},h=null;e.addEventListener("touchstart",l,!1)}(window,window.anima_lib||(window.anima_lib={})),function(a,b){function c(a,b,c,d){function l(a){return(3*f*a+2*g)*a+h}function m(a){return((f*a+g)*a+h)*a}function n(a){return((i*a+j)*a+k)*a}function o(a){var c,d,f,g,h,b=a;for(f=0;8>f;f++){if(d=m(b)-a,Math.abs(d)<e)return b;if(c=l(b),Math.abs(c)<e)break;b-=d/c}for(g=1,h=0,b=a;g>h;){if(d=m(b)-a,Math.abs(d)<e)return b;d>0?g=b:h=b,b=(g+h)/2}return b}function p(a){return n(o(a))}var e=1e-6,f=3*a-3*c+1,g=3*c-6*a,h=3*a,i=3*b-3*d+1,j=3*d-6*b,k=3*b;return p}b.cubicbezier=c,b.cubicbezier.linear=c(0,0,1,1),b.cubicbezier.ease=c(.25,.1,.25,1),b.cubicbezier.easeIn=c(.42,0,1,1),b.cubicbezier.easeOut=c(0,0,.58,1),b.cubicbezier.easeInOut=c(.42,0,.58,1)}(window,window["anima_lib"]||(window["anima_lib"]={})),function(a,b){function f(a){return setTimeout(a,d)}function g(a){clearTimeout(a)}function j(){var a={},b=new e(function(b,c){a.resolve=b,a.reject=c});return a.promise=b,a}function k(a,b){return["then","catch"].forEach(function(c){b[c]=function(){return a[c].apply(a,arguments)}}),b}function l(b){var c,d,e=!1;this.request=function(){e=!1;var f=arguments;return c=j(),k(c.promise,this),d=h(function(){e||c&&c.resolve(b.apply(a,f))}),this},this.cancel=function(){return d&&(e=!0,i(d),c&&c.reject("CANCEL")),this},this.clone=function(){return new l(b)}}function m(a,b){var c,e,f,g,h,i,j,k;for("function"==typeof b&&(b={0:b}),c=a/d,e=1/c,f=[],g=Object.keys(b).map(function(a){return parseInt(a)}),h=0;c>h;h++)i=g[0],j=e*h,null!=i&&100*j>=i?(k=b[""+i],k instanceof l||(k=new l(k)),f.push(k),g.shift()):f.length&&f.push(f[f.length-1].clone());return f}function n(a){var c;return"string"==typeof a||a instanceof Array?b["cubicbezier"]?"string"==typeof a?b.cubicbezier[a]&&(c=b.cubicbezier[a]):a instanceof Array&&4===a.length&&(c=b.cubicbezier.apply(b.cubicbezier,a)):console.error("require anima_lib.cubicbezier"):"function"==typeof a&&(c=a),c}function o(a,b,c){var e,o,f=m(a,c),g=1/(a/d),h=0,i=n(b);if(!i)throw new Error("unexcept timing function");o=!1,this.play=function(){function a(){var c=g*(h+1).toFixed(10),d=f[h];d.request(c.toFixed(10),b(c).toFixed(10)).then(function(){o&&(h===f.length-1?(o=!1,e&&e.resolve("FINISH"),e=null):(h++,a()))},function(){})}if(!o)return o=!0,e||(e=j(),k(e.promise,this)),a(),this},this.stop=function(){return o?(o=!1,f[h]&&f[h].cancel(),this):void 0}}var c=60,d=1e3/c,e=a.Promise||b.promise&&b.promise.ES6Promise,h=window.requestAnimationFrame||window.msRequestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||f,i=window.cancelAnimationFrame||window.msCancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||g;(h===f||i===g)&&(h=f,i=g),b.animation=function(a,b,c){return new o(a,b,c)},b.animation.frame=function(a){return new l(a)},b.animation.requestFrame=function(a){var b=new l(a);return b.request()}}(window,window["anima_lib"]||(window["anima_lib"]={})),function(a,b){function d(){this.ES6Promise=c,this.defer=function(){var a={},b=new c(function(b,c){a.resolve=b,a.reject=c});return a.promise=b,a},this.wrap=function(a){var b=this;return function(){var c,e,f;return"function"==typeof a?(c=b.defer(),c.promise,e=[c.resolve,c.reject].concat(Array.prototype.slice.call(arguments)),f=a.apply(this,e),b.isPromise(f)?f:c.promise):a}},this.mixin=function(a,b){return["then","catch"].forEach(function(c){b[c]=function(){return a[c].apply(a,arguments)}}),b},this.isThenable=function(a){return!!a&&!!a.then&&"function"==typeof a.then},this.isPromise=function(a){return!!(a instanceof c)},this.record=function(a){var c,d,b=Object.create(a);return Object.defineProperties?(c="pending",Object.defineProperties(b,{PromiseState:{get:function(){return c},enmurable:!1},PromiseResult:{get:function(){return d},enmurable:!1}}),a.then(function(a){c="fullfilled",d=a},function(a){c="rejected",d=a})):(b.PromiseState="pending",b.PromiseResult=void 0,a.then(function(a){b.PromiseState="fullfilled",b.PromiseResult=a},function(a){b.PromiseState="rejected",b.PromiseResult=a})),b}}function e(){var e,d=new c(function(a){"complete"===document.readyState?a():document.addEventListener("DOMContentLoaded",a)});this.domReady=function(){return d},e=new c(function(a){window.addEventListener("load",a)}),this.pageLoad=function(){return e},this.delay=function(a){return new c(function(b){setTimeout(b,a)})},this.waitForEvent=function(a,b,d){return new c(function(c){function f(d){a.removeEventListener(b,f),c(d)}a.addEventListener(b,f,d)})},this.parallel=function(a){return c.all(a.map(function(a){return b.promise.features.isThenable(a)?c.resolve(a):"function"==typeof a?a():a}))},this.serial=function(a){var d=c.resolve();return a.forEach(function(a){d=b.promise.features.isThenable(a)?d.then(function(){return c.resolve(a)}):"function"==typeof a?d.then(a):d.then(function(){return a})}),d}}var f,g,c=a.Promise;if(!c)throw new Error("ES6Promise is not working in this browser");f=new d,g=new e,b.promise=Object.create(f),b.promise.features=f,b.promise.utilities=g}(window,window["anima_lib"]||(window["anima_lib"]={})),function(a,b){function c(a,b){return[[(a/3+(a+b)/3-a)/(b-a),(a*a/3+2*a*b/3-a*a)/(b*b-a*a)],[(b/3+(a+b)/3-a)/(b-a),(b*b/3+2*a*b/3-a*a)/(b*b-a*a)]]}function d(a){var b,c;this.v=a.v||0,this.a=a.a||0,"undefined"!=typeof a.t&&(this.t=a.t),"undefined"!=typeof a.s&&(this.s=a.s),"undefined"==typeof this.t&&("undefined"==typeof this.s?this.t=-this.v/this.a:(b=(Math.sqrt(this.v*this.v+2*this.a*this.s)-this.v)/this.a,c=(-Math.sqrt(this.v*this.v+2*this.a*this.s)-this.v)/this.a,this.t=Math.min(b,c))),"undefined"==typeof this.s&&(this.s=this.a*this.t*this.t/2+this.v*this.t)}d.prototype.generateCubicBezier=function(){return c(this.v/this.a,this.t+this.v/this.a)},b.motion=function(a){return new d(a)}}(window,window["anima_lib"]||(window["anima_lib"]={})),function(a,b){function o(){b.scroll.outputDebugLog&&console.debug.apply(console,arguments)}function p(a){var c,b=a.getBoundingClientRect();if(!b){for(b={},b.width=a.offsetWidth,b.height=a.offsetHeight,b.left=a.offsetLeft,b.top=a.offsetTop,c=a.offsetParent;c;)b.left+=c.offsetLeft,b.top+=c.offsetTop,c=c.offsetParent;b.right=b.left+b.width,b.bottom=b.top+b.height}return b}function q(a){return 0-a.options[a.axis+"PaddingTop"]}function r(a){var e,b=p(a.element),c=p(a.viewport),d=q(a);return e="y"===a.axis?0-b.height+c.height:0-b.width+c.width,Math.min(e+a.options[a.axis+"PaddingBottom"],d)}function s(a,b){return b>a.minScrollOffset?b-a.minScrollOffset:b<a.maxScrollOffset?b-a.maxScrollOffset:void 0}function t(a,b){return b>a.minScrollOffset?b=a.minScrollOffset:b<a.maxScrollOffset&&(b=a.maxScrollOffset),b}function u(a,b,c){var e,f;if(o(a.element.scrollId,b,c),e=d.createEvent("HTMLEvents"),e.initEvent(b,!1,!0),e.scrollObj=a,c)for(f in c)e[f]=c[f];a.element.dispatchEvent(e),a.viewport.dispatchEvent(e)}function v(a){var d,b={x:0,y:0},c=getComputedStyle(a.element)[n+"Transform"];return"none"!==c&&(d=c.match(/^matrix3d\((?:[-\d.]+,\s*){12}([-\d.]+),\s*([-\d.]+)(?:,\s*[-\d.]+){2}\)/)||c.match(/^matrix\((?:[-\d.]+,\s*){4}([-\d.]+),\s*([-\d.]+)\)$/))&&(b.x=parseFloat(d[1])||0,b.y=parseFloat(d[2])||0),b}function y(a,b){return a=parseFloat(a),b=parseFloat(b),0!=a&&(a+="px"),0!=b&&(b+="px"),x?"translate3d("+a+", "+b+", 0)":"translate("+a+", "+b+")"}function z(a,b,c){a.element.style[n+"Transition"]=""===b&&""===c?"":m+"transform "+b+" "+c+" 0s"}function A(a,b){var c=0,d=0;"object"==typeof b?(c=b.x,d=b.y):"y"===a.axis?d=b:c=b,a.element.style[n+"Transform"]=y(c,d)}function C(a,c){function j(a){return e||D?(a.preventDefault(),a.stopPropagation(),!1):!0}function l(a){e||D||setTimeout(function(){var b=document.createEvent("HTMLEvents");b.initEvent("niceclick",!0,!0),a.target.dispatchEvent(b)},300)}function y(a,c){w=null,clearTimeout(x),x=setTimeout(function(){w&&(w=null,b.animation.requestFrame(a))},c||400),w=a}function G(a){if(!d.enabled)return!1;if("undefined"!=typeof a.isVertical){if(!("y"===d.axis&&a.isVertical||"x"===d.axis&&!a.isVertical))return!1;a.stopPropagation()}return!0}function H(a){if(G(a))if(D&&O(),c.useFrameAnimation)m&&m.stop(),m=null;else{var b=v(d);A(d,b),z(d,"",""),w=null,clearTimeout(x)}}function I(a){var e,f,g,h,i;G(a)&&(e=v(d)[d.axis],f=s(d,e),f?(g=t(d,e),c.useFrameAnimation?(h=g-e,m=new b.animation(400,b.cubicbezier.ease,function(a,b){var c=(e+h*b).toFixed(2);A(d,c),u(d,"scrolling")}),m.play().then(O)):(i=g.toFixed(0),z(d,"0.4s","ease"),A(d,i),y(O,400),b.animation.requestFrame(function(){D&&d.enabled&&(u(d,"scrolling"),b.animation.requestFrame(arguments.callee))})),f>0?u(d,"y"===d.axis?"pulldownend":"pullrightend"):0>f&&u(d,"y"===d.axis?"pullupend":"pullleftend")):D&&O())}function K(a){G(a)&&(d.transformOffset=v(d),d.minScrollOffset=q(d),d.maxScrollOffset=r(d),C=2.5,F=!0,D=!0,E=!1,u(d,"scrollstart"),J=a["displacement"+d.axis.toUpperCase()])}function L(a){var b,c,e;if(G(a)){if(b=a["displacement"+d.axis.toUpperCase()],Math.abs(b-J)<5)return a.stopPropagation(),void 0;J=b,c=d.transformOffset[d.axis]+b,c>d.minScrollOffset?(c=d.minScrollOffset+(c-d.minScrollOffset)/C,C*=1.003):c<d.maxScrollOffset&&(c=d.maxScrollOffset-(d.maxScrollOffset-c)/C,C*=1.003),C>4&&(C=4),e=s(d,c),e&&(u(d,e>0?"y"===d.axis?"pulldown":"pullright":"y"===d.axis?"pullup":"pullleft",{boundaryOffset:Math.abs(e)}),d.options.noBounce&&(c=t(d,c))),A(d,c.toFixed(2)),u(d,"scrolling")}}function M(a){G(a)&&a.isflick&&N(a)}function N(a){var e,f,g,h,j,k,l,n,p,q,r,t,w,x,B,C,G,I,J,K,L,M,P,Q,R,S;F=!0,h=v(d)[d.axis],I=s(d,h),I||(e=a["velocity"+d.axis.toUpperCase()],J=2,K=.0015,c.inertia&&i[c.inertia]&&(J=i[c.inertia][0],K=i[c.inertia][1]),e>J&&(e=J),-J>e&&(e=-J),f=K*(e/Math.abs(e)),k=new b.motion({v:e,a:-f}),g=k.t,j=h+k.s,L=s(d,j),L?(o("惯性计算超出了边缘",L),l=e,n=f,L>0?(q=d.minScrollOffset,t=1):(q=d.maxScrollOffset,t=-1),r=new b.motion({v:t*l,a:-t*n,s:Math.abs(q-h)}),p=r.t,M=r.generateCubicBezier(),w=l-n*p,x=.03*(w/Math.abs(w)),G=new b.motion({v:w,a:-x}),B=G.t,C=q+G.s,G.generateCubicBezier(),c.noBounce?(o("没有回弹效果"),h!==q?c.useFrameAnimation?(P=q-h,Q=b.cubicbezier(M[0][0],M[0][1],M[1][0],M[1][1]),m=new b.animation(p.toFixed(0),Q,function(a,b){var c=h+P*b;v(d,c.toFixed(2)),u(d,"scrolling",{afterFlick:!0})}),m.play().then(O)):(R=q.toFixed(0),z(d,(p/1e3).toFixed(2)+"s","cubic-bezier("+M+")"),A(d,R),y(O,1e3*(p/1e3).toFixed(2))):O()):h!==C?(o("惯性滚动","s="+C.toFixed(0),"t="+((p+B)/1e3).toFixed(2)),c.useFrameAnimation?(P=C-h,Q=b.cubicbezier.easeOut,m=new b.animation((p+B).toFixed(0),Q,function(a,b){var c=h+P*b;A(d,c.toFixed(2)),u(d,"scrolling",{afterFlick:!0})}),m.play().then(function(){var a,c;d.enabled&&(a=q-C,c=b.cubicbezier.ease,m=new b.animation(400,c,function(b,c){var e=C+a*c;A(d,e.toFixed(2)),u(d,"scrolling",{afterFlick:!0})}),m.play().then(O))})):(R=C.toFixed(0),z(d,((p+B)/1e3).toFixed(2)+"s","ease-out"),A(d,R),y(function(){if(d.enabled)if(o("惯性回弹","s="+q.toFixed(0),"t=400"),C!==q){var b=q.toFixed(0);z(d,"0.4s","ease"),A(d,b),y(O,400)}else O()},1e3*((p+B)/1e3).toFixed(2)))):O()):(o("惯性计算没有超出边缘"),S=k.generateCubicBezier(),c.useFrameAnimation?(P=j-h,Q=b.cubicbezier(S[0][0],S[0][1],S[1][0],S[1][1]),m=new b.animation(g.toFixed(0),Q,function(a,b){var c=(h+P*b).toFixed(2);A(d,c),u(d,"scrolling",{afterFlick:!0})}),m.play().then(O)):(R=j.toFixed(0),z(d,(g/1e3).toFixed(2)+"s","cubic-bezier("+S+")"),A(d,R),y(O,1e3*(g/1e3).toFixed(2)))),E=!0,c.useFrameAnimation||b.animation.requestFrame(function(){D&&E&&d.enabled&&(u(d,"scrolling",{afterFlick:!0}),b.animation.requestFrame(arguments.callee))}))}function O(){d.enabled&&(F=!1,setTimeout(function(){!F&&D&&(D=!1,E=!1,c.useFrameAnimation?(m&&m.stop(),m=null):z(d,"",""),u(d,"scrollend"))},50))}var e,h,m,w,x,C,D,E,F,J,P,Q,d=this;c=c||{},c.noBounce=!!c.noBounce,c.padding=c.padding||{},c.isPrevent=null==c.isPrevent?!0:!!c.isPrevent,c.isFixScrollendClick=null==c.isFixScrollendClick?!0:!!c.isFixScrollendClick,c.padding?(c.yPaddingTop=-c.padding.top||0,c.yPaddingBottom=-c.padding.bottom||0,c.xPaddingTop=-c.padding.left||0,c.xPaddingBottom=-c.padding.right||0):(c.yPaddingTop=0,c.yPaddingBottom=0,c.xPaddingTop=0,c.xPaddingBottom=0),c.direction=c.direction||"y",c.inertia=c.inertia||"normal",this.options=c,d.axis=c.direction,this.element=a,this.viewport=a.parentNode,this.plugins={},this.element.scrollId=setTimeout(function(){f[d.element.scrollId+""]=d},1),this.viewport.addEventListener("touchstart",H,!1),this.viewport.addEventListener("touchend",I,!1),this.viewport.addEventListener("touchcancel",I,!1),this.viewport.addEventListener("panstart",K,!1),this.viewport.addEventListener("pan",L,!1),this.viewport.addEventListener("panend",M,!1),c.isPrevent&&(this.viewport.addEventListener("touchstart",function(){B=!0},!1),d.viewport.addEventListener("touchend",function(){B=!1},!1)),c.isFixScrollendClick&&(this.viewport.addEventListener("scrolling",function(){e=!0,h&&clearTimeout(h),h=setTimeout(function(){e=!1},400)},!1),this.viewport.addEventListener("click",j,!1),this.viewport.addEventListener("tap",l,!1)),c.useFrameAnimation?Object.defineProperty(this,"animation",{get:function(){return m}}):(x=0,a.addEventListener(k?"transitionend":n+"TransitionEnd",function(a){if(w){var c=w;w=null,clearTimeout(x),b.animation.requestFrame(function(){c(a)})}},!1)),Object.defineProperty(this,"isScrolling",{get:function(){return!!D}}),P={init:function(){return this.enable(),this.refresh(),this.scrollTo(0),this},enable:function(){return this.enabled=!0,this},disable:function(){var a=this.element;return this.enabled=!1,this.options.useFrameAnimation?m&&m.stop():b.animation.requestFrame(function(){a.style[n+"Transform"]=getComputedStyle(a)[n+"Transform"]}),this},getScrollWidth:function(){return p(this.element).width},getScrollHeight:function(){return p(this.element).height},getScrollLeft:function(){return-v(this).x-this.options.xPaddingTop},getScrollTop:function(){return-v(this).y-this.options.yPaddingTop},getMaxScrollLeft:function(){return-d.maxScrollOffset-this.options.xPaddingTop},getMaxScrollLeft:function(){return-d.maxScrollOffset-this.options.xPaddingTop},getMaxScrollTop:function(){return-d.maxScrollOffset-this.options.yPaddingTop},getBoundaryOffset:function(){return Math.abs(s(this,v(this)[this.axis])||0)},refresh:function(){var d,e,f,g,a=this.element,b="y"===this.axis,c=b?"height":"width";if(null!=this.options[c])a.style[c]=this.options[c]+"px";else if(this.options.useElementRect)a.style[c]="auto",a.style[c]=p(a)[c]+"px";else if(a.childElementCount>0)if(f=a.firstElementChild,g=a.lastElementChild,document.createRange&&!this.options.ignoreOverflow&&(d=document.createRange(),d.selectNodeContents(a),e=p(d)),e)a.style[c]=e[c]+"px";else{for(;f&&0===p(f)[c]&&f.nextElementSibling;)f=f.nextElementSibling;for(;g&&g!==f&&0===p(g)[c]&&g.previousElementSibling;)g=g.previousElementSibling;a.style[c]=p(g)[b?"bottom":"right"]-p(f)[b?"top":"left"]+"px"}return this.transformOffset=v(this),this.minScrollOffset=q(this),this.maxScrollOffset=r(this),this.scrollTo(-this.transformOffset[this.axis]-this.options[this.axis+"PaddingTop"]),u(this,"contentrefresh"),this},offset:function(a){var d,b=p(this.element),c=p(a);return"y"===this.axis?(d={top:c.top-b.top-this.options.yPaddingTop,left:c.left-b.left,right:b.right-c.right,width:c.width,height:c.height},d.bottom=d.top+d.height):(d={top:c.top-b.top,bottom:b.bottom-c.bottom,left:c.left-b.left-this.options.xPaddingTop,width:c.width,height:c.height},d.right=d.left+d.width),d},getRect:function(a){var d,b=p(this.viewport),c=p(a);return"y"===this.axis?(d={top:c.top-b.top,left:c.left-b.left,right:b.right-c.right,width:c.width,height:c.height},d.bottom=d.top+d.height):(d={top:c.top-b.top,bottom:b.bottom-c.bottom,left:c.left-b.left,width:c.width,height:c.height},d.right=d.left+d.width),d},isInView:function(a){var b=this.getRect(this.viewport),c=this.getRect(a);return"y"===this.axis?b.top<c.bottom&&b.bottom>c.top:b.left<c.right&&b.right>c.left},scrollTo:function(a,c){var f,g,d=this;return this.element,a=-a-this.options[this.axis+"PaddingTop"],a=t(this,a),D=!0,c===!0?this.options.useFrameAnimation?(f=v(d)[this.axis],g=a-f,m=new b.animation(400,b.cubicbezier.ease,function(a,b){var c=(f+g*b).toFixed(2);A(d,c),u(d,"scrolling")}),m.play().then(O)):(z(d,"0.4s","ease"),A(d,a),y(O,400),b.animation.requestFrame(function(){D&&d.enabled&&(u(d,"scrolling"),b.animation.requestFrame(arguments.callee))})):(this.options.useFrameAnimation||z(d,"",""),A(d,a),O()),this},scrollToElement:function(a,b){var c=this.offset(a);return c=c["y"===this.axis?"top":"left"],this.scrollTo(c,b)},getViewWidth:function(){return p(this.viewport).width},getViewHeight:function(){return p(this.viewport).height},addPulldownHandler:function(a){var b=this;return this.element.addEventListener("pulldownend",function(c){b.disable(),a.call(b,c,function(){b.scrollTo(0,!0),b.refresh(),b.enable()})},!1),this},addPullupHandler:function(a){var b=this;return this.element.addEventListener("pullupend",function(c){b.disable(),a.call(b,c,function(){b.scrollTo(b.getScrollHeight(),!0),b.refresh(),b.enable()})},!1),this},addScrollstartHandler:function(a){var b=this;return this.element.addEventListener("scrollstart",function(c){a.call(b,c)},!1),this},addScrollingHandler:function(a){var b=this;return this.element.addEventListener("scrolling",function(c){a.call(b,c)},!1),this},addScrollendHandler:function(a){var b=this;return this.element.addEventListener("scrollend",function(c){a.call(b,c)},!1),this},addContentrenfreshHandler:function(a){var b=this;return this.element.addEventListener("contentrefresh",function(c){a.call(b,c)},!1),this},addEventListener:function(a,b,c){var d=this;return this.element.addEventListener(a,function(a){b.call(d,a)},!!c),this},removeEventListener:function(a,b){var c=this;return this.element.removeEventListener(a,function(a){b.call(c,a)}),this},enablePlugin:function(a,b){var c=g[a];return c&&!this.plugins[a]&&(this.plugins[a]=!0,b=b||{},c.call(this,a,b)),this}};for(Q in P)this[Q]=P[Q];delete P}var d=a.document,e=a.navigator.userAgent,f={},g={},h=a.dpr||(a.navigator.userAgent.match(/iPhone|iPad|iPod/)?document.documentElement.clientWidth/a.screen.availWidth:1),i={normal:[2*h,.0015*h],slow:[1.5*h,.003*h],veryslow:[1.5*h,.005*h]},k=!!e.match(/Firefox/i),l=!!e.match(/IEMobile/i),m=k?"-moz-":l?"-ms-":"-webkit-",n=k?"Moz":l?"ms":"webkit",w=l?"MSCSSMatrix":"WebKitCSSMatrix",x=!!k||w in a&&"m11"in new a[w],B=!1;d.addEventListener("touchmove",function(a){return B?(a.preventDefault(),!1):!0},!1),b.scroll=function(a,c){if(1===arguments.length&&!(arguments[0]instanceof HTMLElement))if(c=arguments[0],c.scrollElement)a=c.scrollElement;else{if(!c.scrollWrap)throw new Error("no scroll element");a=c.scrollWrap.firstElementChild}if(!a.parentNode)throw new Error("wrong dom tree");if(c&&c.direction&&["x","y"].indexOf(c.direction)<0)throw new Error("wrong direction");var d;return d=c.downgrade===!0&&b.scroll.downgrade?b.scroll.downgrade(a,c):a.scrollId?f[a.scrollId]:new C(a,c)},b.scroll.plugin=function(a,b){return b?(a=a.split(","),a.forEach(function(a){g[a]=b}),void 0):g[a]}}(window,window["anima_lib"]||(window["anima_lib"]={})),function(a,b,c){function j(a,b){if("string"==typeof b)a.innerHTML=b;else if(b instanceof HTMLElement)a.innerHTML="",a.appendChild(b);else if(b instanceof Array||b instanceof NodeList){var c=d.createDocumentFragment();Array.prototype.slice.call(b).forEach(function(a){c.appendChild(a)}),a.appendChild(c)}}function r(a,c){var h,i,k,l,f=this;Date.now()+"-"+ ++q,1!==arguments.length||arguments[0]instanceof HTMLElement||(c=arguments[0],a=null),c=c||{},h=a,i=h.firstElementChild,c.scrollElement=i,c.scrollWrap=h,k=new b.scroll(c),this.scrollWrap=h,this.scrollElement=i,this.scroll=k,this.root=this.element=a;for(l in k)void function(a){"function"==typeof k[a]?f[a]=function(){return k[a].apply(k,arguments)}:f[a]||Object.defineProperty(f,a,{get:function(){return k[a]},set:function(b){k[a]=b}})}(l);Object.defineProperty(this,"content",{get:function(){return Array.prototype.slice.call(i.children)},set:function(a){j(i,a)}})}var q,d=a.document,e=a.navigator.userAgent,f=!!e.match(/Firefox/i),g=!!e.match(/IEMobile/i),l=g?"MSCSSMatrix":"WebKitCSSMatrix";!!f||l in a&&"m11"in new a[l],q=0,c.scrollview=function(a,b){return new r(a,b)}}(window,window["anima_lib"],window["anima_ctrl"]||(window["anima_ctrl"]={}))}();